{"ast":null,"code":"import _classCallCheck from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/rafaelribeiro/Desktop/apps/react-axios/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/rafaelribeiro/Desktop/apps/react-axios/src/App.js\";\nimport React, { Component } from 'react';\nimport { Card, Container, Row, Col } from 'react-bootstrap';\nimport MapGL, { Marker, Popup, NavigationControl } from 'react-map-gl';\nimport axios from 'axios';\nimport Loading from './Loading';\nimport './App.css';\nimport Pin from './pin';\nvar TOKEN = 'pk.eyJ1IjoicmFmYWhlbGwiLCJhIjoiY2pzMzJ1MnZ2MjQxYjQ0bHh4amQyczJyMSJ9.-iEWBE9bMBsJvf5uUtFiAw';\nvar navStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  padding: '10px'\n};\n\nfunction isSearched(searchTerm) {\n  return function (item) {\n    return !searchTerm || item.name.first.toLowerCase().includes(searchTerm.toLowerCase());\n  };\n}\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this._updateViewport = function (viewport) {\n      _this.setState({\n        viewport: viewport\n      });\n    };\n\n    _this.state = {\n      isLoaded: false,\n      searchTerm: '',\n      viewport: {\n        latitude: 37.785164,\n        longitude: -100,\n        zoom: 2,\n        bearing: 0,\n        pitch: 0\n      },\n      popupInfo: null\n    }; // this.handleSubmit = this.handleSubmit.bind(this);\n\n    _this.searchValue = _this.searchValue.bind(_assertThisInitialized(_this));\n    return _this;\n  } //fetch api axios\n\n\n  _createClass(App, [{\n    key: \"getUsers\",\n    value: function getUsers() {\n      var _this2 = this;\n\n      axios.get('https://randomuser.me/api/?nat=US&results=6').then(function (res) {\n        var users = res.data.results;\n\n        _this2.setState({\n          users: users,\n          isLoaded: true\n        });\n      });\n      this.setState({\n        isLoaded: false\n      });\n    } // handleSubmit(e) {\n    //   e.preventDefault();\n    //   this.getUsers();\n    // }\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getUsers();\n    }\n  }, {\n    key: \"searchValue\",\n    value: function searchValue(e) {\n      this.setState({\n        searchTerm: e.target.value\n      });\n    }\n  }, {\n    key: \"_renderPopup\",\n    value: function _renderPopup(e) {\n      var _this3 = this;\n\n      var popupInfo = this.state.popupInfo;\n      var city = e.location.city;\n      return popupInfo && React.createElement(Popup, {\n        tipSize: 5,\n        anchor: \"top\",\n        longitude: Number(e.location.coordinates.longitude),\n        latitude: Number(e.location.coordinates.latitude),\n        closeOnClick: false,\n        onClose: function onClose() {\n          return _this3.setState({\n            popupInfo: null\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, city));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          isLoaded = _this$state.isLoaded,\n          users = _this$state.users,\n          searchTerm = _this$state.searchTerm,\n          viewport = _this$state.viewport;\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: 12,\n        md: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        className: \"card card-sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Card.Body, {\n        className: \" row no-gutters align-items-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-search h4 text-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      })), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-control form-control-lg form-control-borderless\",\n        type: \"search\",\n        placeholder: \"Search\",\n        onChange: this.searchValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })))))))), isLoaded ? React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, users.filter(isSearched(searchTerm)).map(function (user, index) {\n        return React.createElement(Col, {\n          xs: 12,\n          sm: 12,\n          md: 6,\n          key: user.id.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(Card.Img, {\n          variant: \"top\",\n          src: user.picture.large,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }), React.createElement(Card.Body, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(Card.Title, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, user.name.first), React.createElement(Card.Text, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"i\", {\n          className: \"fas fa-phone\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }), \" \", user.cell, \" \", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }), React.createElement(\"i\", {\n          className: \"far fa-envelope\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }), \" \", React.createElement(\"span\", {\n          className: \"small\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, user.email), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }), React.createElement(\"i\", {\n          className: \"fas fa-map-marker-alt\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }), React.createElement(\"span\", {\n          className: \"city\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, \" \", user.location.city)), React.createElement(MapGL, Object.assign({}, viewport, {\n          width: \"100%\",\n          height: \"400px\",\n          mapStyle: \"mapbox://styles/mapbox/dark-v9\" //onViewportChange={this._updateViewport()}\n          ,\n          mapboxApiAccessToken: TOKEN,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }), React.createElement(Marker, {\n          key: \"marker-\".concat(index),\n          longitude: Number(user.location.coordinates.longitude),\n          latitude: Number(user.location.coordinates.latitude) // offsetTop={-20}\n          // offsetLeft={-10}\n          ,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, React.createElement(Pin, {\n          key: \"pin-\".concat(index),\n          size: 20,\n          onClick: function onClick() {\n            return _this4.setState({\n              popupInfo: user\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        })), _this4._renderPopup(user), React.createElement(\"div\", {\n          className: \"nav\",\n          style: navStyle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, React.createElement(NavigationControl, {\n          onViewportChange: function onViewportChange(viewport) {\n            return _this4.setState({\n              viewport: viewport\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }))))));\n      }))) : React.createElement(Loading, {\n        message: \"Loading...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/rafaelribeiro/Desktop/apps/react-axios/src/App.js"],"names":["React","Component","Card","Container","Row","Col","MapGL","Marker","Popup","NavigationControl","axios","Loading","Pin","TOKEN","navStyle","position","top","left","padding","isSearched","searchTerm","item","name","first","toLowerCase","includes","App","props","_updateViewport","viewport","setState","state","isLoaded","latitude","longitude","zoom","bearing","pitch","popupInfo","searchValue","bind","get","then","res","users","data","results","getUsers","e","target","value","city","location","Number","coordinates","filter","map","user","index","id","picture","large","cell","email","_renderPopup"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Card, Container, Row, Col} from 'react-bootstrap';\nimport MapGL, {Marker,Popup, NavigationControl} from 'react-map-gl';\nimport axios from 'axios';\nimport Loading from './Loading';\nimport './App.css';\nimport Pin from './pin';\n\nconst TOKEN = 'pk.eyJ1IjoicmFmYWhlbGwiLCJhIjoiY2pzMzJ1MnZ2MjQxYjQ0bHh4amQyczJyMSJ9.-iEWBE9bMBsJvf5uUtFiAw';\nconst navStyle = {\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  padding: '10px'\n};\n\nfunction isSearched(searchTerm) {\n  return function(item) {\n    return !searchTerm || item.name.first.toLowerCase().includes(searchTerm.toLowerCase());\n  }\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    \n    this.state = {\n      isLoaded: false,\n      searchTerm: '',\n      viewport: {\n        latitude: 37.785164,\n        longitude: -100,\n        zoom: 2,\n        bearing: 0,\n        pitch: 0\n      },\n      popupInfo: null\n    };\n    // this.handleSubmit = this.handleSubmit.bind(this);\n    this.searchValue = this.searchValue.bind(this);\n  }\n  \n  //fetch api axios\n  getUsers() {\n    axios.get('https://randomuser.me/api/?nat=US&results=6')\n      .then(res => {\n        const users = res.data.results;\n        this.setState({ \n        users,\n          isLoaded: true \n        })\n      })\n\n    this.setState({\n      isLoaded: false\n    })\n  }\n\n  // handleSubmit(e) {\n  //   e.preventDefault();\n  //   this.getUsers();\n  // }\n\n  componentDidMount() {\n   this.getUsers(); \n  }\n\n  searchValue (e) {\n    this.setState ({searchTerm: e.target.value})\n  }\n\n\n\n  _updateViewport = (viewport) => {\n    this.setState({viewport});\n  }\n\n  _renderPopup(e) {\n    const {popupInfo} = this.state;\n    const city = e.location.city;\n    \n    return popupInfo && (\n      <Popup tipSize={5}\n        anchor=\"top\"\n        longitude={Number(e.location.coordinates.longitude)}\n        latitude={Number(e.location.coordinates.latitude)}\n        closeOnClick={false}\n        onClose={() => this.setState({popupInfo: null})} >\n        <p>{city}</p>\n      </Popup>\n    );\n  }\n\n  render() {\n    const {isLoaded, users, searchTerm, viewport} = this.state;\n\n      return (\n        <div className=\"App\">\n\n       <Container>\n          <Row className=\"justify-content-center\">\n            <Col xs={12} md={12}>\n              <form className=\"card card-sm\">\n              <Card>\n                  <Card.Body className=\" row no-gutters align-items-center\">\n                      <Col md=\"auto\">\n                          <i className=\"fas fa-search h4 text-body\"></i>\n                      </Col>\n                      <Col>\n                        <input className=\"form-control form-control-lg form-control-borderless\" type=\"search\" placeholder=\"Search\" onChange={this.searchValue} />\n                      </Col>\n                  </Card.Body>\n                </Card>\n              </form>\n            </Col>\n        </Row>\n      </Container>\n              \n\n          {isLoaded ?\n            <Container>\n              <Row>\n              {users.filter(isSearched(searchTerm)).map((user, index) => \n                  <Col xs={12} sm={12} md={6} key={user.id.value}>\n                  <Card>\n                      <Card.Img variant=\"top\" src={user.picture.large} />\n                      <Card.Body>\n                        <Card.Title>{user.name.first}</Card.Title>\n                        <Card.Text>\n                          <i className=\"fas fa-phone\"></i> {user.cell} <br/>\n                          <i className=\"far fa-envelope\"></i> <span className=\"small\">{user.email}</span><br/>\n                          <i className=\"fas fa-map-marker-alt\"></i><span className=\"city\"> {user.location.city}</span>\n                        </Card.Text>\n\n                        <MapGL \n                          {...viewport}\n                          width=\"100%\"\n                          height=\"400px\"\n                          mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n                          //onViewportChange={this._updateViewport()}\n                          mapboxApiAccessToken={TOKEN} >\n                          \n                          <Marker key={`marker-${index}`}\n                            longitude={Number(user.location.coordinates.longitude)}\n                            latitude={Number(user.location.coordinates.latitude)}\n                            // offsetTop={-20}\n                            // offsetLeft={-10}\n                            >\n                            <Pin key={`pin-${index}`} size={20} onClick={() => this.setState({popupInfo: user })}/>\n                          </Marker>\n                          \n                           {this._renderPopup(user)}\n                          <div className=\"nav\" style={navStyle}>\n                            <NavigationControl  onViewportChange={(viewport) => this.setState({viewport})} /> \n                          </div>\n\n                        </MapGL>\n                      </Card.Body>\n                  </Card>\n                  </Col>)}\n              </Row>\n              {/* <Row>\n                <form style={{display:'block',margin: '0 auto'}}>\n                  <button className=\"btn btn-lg btn-success\" type=\"submit\" onSubmit={this.handleSubmit}  value=\"refresh users\">Refresh Users</button>\n                </form>\n              </Row> */}\n            </Container>\n            : <Loading message=\"Loading...\" />}\n           \n        </div>\n      );\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}